{% extends 'template/template.j2.html' %}
{% block title %}
    {{ $t('sidebar.languageExample') }}
{% endblock %}

{% block content %}
<div class="mt-8 space-y-6">
  <div class="flex flex-col gap-4 sm:flex-row sm:items-start sm:justify-between">
    <h3 class="text-lg font-semibold text-slate-800">{{ $t('i18n.title') }}</h3>
    <details class="relative" dir="ltr">
      <summary class="list-none inline-flex cursor-pointer select-none items-center gap-2 rounded-md border border-slate-300 bg-white px-3 py-2 text-xs font-medium text-slate-700 shadow-sm hover:bg-slate-50 focus:outline-none focus:ring-2 focus:ring-primary-500/30">
        <span class="font-mono text-[11px]">{{ $e.ln | upper }}</span>
        <svg class="h-3 w-3 text-slate-500" viewBox="0 0 10 6" fill="none" stroke="currentColor" stroke-width="1.5"><path d="M1 1l4 4 4-4" stroke-linecap="round" stroke-linejoin="round"/></svg>
      </summary>
      <ul class="absolute right-0 z-20 mt-2 w-56 max-h-72 overflow-y-auto rounded-md border border-slate-200 bg-white p-1 text-xs shadow-lg">
        {% for key, language in languages %}
        <li>
          <a href="{{ $e.urlToLanguage(key) }}" class="wave flex items-center gap-2 rounded px-2 py-1.5 transition-colors {{ 'bg-primary-600 text-white' if $e.ln == key else 'text-slate-700 hover:bg-slate-100' }}">
            <b class="text-base leading-none">{{ language.flag }}</b>
            <span class="truncate">{{ language.name }}</span>
          </a>
        </li>
        {% endfor %}
      </ul>
    </details>
  </div>

  <div class="space-y-3">
    <div class="rounded-md border-l-4 border-emerald-500 bg-emerald-50 px-4 py-2 text-[13px] text-emerald-700">
      {{ $t('i18n.exampleTString') }}
    </div>
    <div class="rounded-md border-l-4 border-emerald-500 bg-emerald-50 px-4 py-2 text-[13px] text-emerald-700">
      {{ $t('i18n.examplePath') }}
    </div>
    <div class="rounded-md border-l-4 border-emerald-500 bg-emerald-50 px-4 py-2 text-[13px] text-emerald-700">
      {{ $t('i18n.examplePathString') }}
    </div>
    <div class="rounded-md border-l-4 border-emerald-500 bg-emerald-50 px-4 py-2 text-[13px] text-emerald-700">
      {{ $t('example.params') }}
    </div>
    <div class="rounded-md border-l-4 border-emerald-500 bg-emerald-50 px-4 py-2 text-[13px] text-emerald-700">
      {{ $t('i18n.exampleParams', {'name': 'Jack', 'age': 20}) }}
    </div>
    <div class="rounded-md border-l-4 border-emerald-500 bg-emerald-50 px-4 py-2 text-[13px] text-emerald-700">
      {{ $t(exampleTranslateDynamic) }}
    </div>
  </div>

  <div class="rounded-md border border-slate-200 bg-white shadow-sm">
    <ul class="divide-y divide-slate-200 text-sm">
      <li class="px-4 py-3 flex flex-col gap-1 sm:flex-row sm:items-center">
        <b class="w-40 shrink-0 text-slate-600">{{ $t('i18n.view') }}</b>
        <i class="text-[13px] text-primary-600">example/lib/widgets/example/i18n.j2.html</i>
      </li>
      <li class="px-4 py-3 flex flex-col gap-1 sm:flex-row sm:items-center">
        <b class="w-40 shrink-0 text-slate-600">{{ $t('i18n.controller') }}</b>
        <i class="text-[13px] text-primary-600">example/lib/controllers/home_controller.dart</i>
      </li>
      <li class="px-4 py-3 flex flex-col gap-1 sm:flex-row sm:items-center">
        <b class="w-40 shrink-0 text-slate-600">{{ $t('i18n.languagesDirectory') }}</b>
        <i class="text-[13px] text-primary-600">example/lib/languages</i>
      </li>
    </ul>
    <div class="border-t border-slate-200">
      <pre dir="ltr" class="prettyprint m-0 overflow-x-auto  p-4 text-[12px] leading-relaxed text-slate-100"><code class="language-dart">// Configs:

WaConfigs configs = WaConfigs(
    languagePath: pathTo('./example/languages'),
);

...

Future<String> exampleLanguage() async {
    rq.addParams({
        'exampleTString': TString('example.tstring').write(rq),
        'examplePathString': 'example.path'.tr.write(rq),
        'exampleTranslateParams': 'example.params'.tr.write(rq, {
            'name': 'Alexandre',
            'age': Random().nextInt(100),
        }),
        'exampleTranslateDynamic': 'example.params.dynamic#$a#$b#$c#$d'.tr.write(rq),
    });
    return renderTemplate('example/i18n');
}

...

// Widget snippet:
// <div class="alert alert-success my-3">
//   <?= $t('example.params', {'name': 'Jack', 'age': 20}) ?>
// </div></code></pre>
    </div>
  </div>
</div>
{% endblock %}