{% extends 'template/template.j2.html' %}
{% block title %}
    {{ $t('Example Free model DB') }}
{% endblock %}

{% block content %}
<div class="row my-5">
  <h3>Person Example</h3>
  <div class="my-3 border-0 bg-transparent">
    {% if data._id == null %}
    <div class="p-0 m-0">
      <div class="card table-responsive">
        <table class="table table-striped p-0 m-0 table-border-0 rounded">
          <thead>
            <tr>
              <th>Name</th>
              <th>Age</th>
              <th>Married</th>
              <th>Email</th>
              <th>Height</th>
              <th>Birthday</th>
              <th>Job</th>
              <th>Skils</th>
              <th class="text-end">Action</th>
            </tr>
          </thead>
          <tbody>
            {% for person in allPerson %}
            <tr class="small">
              <td>
                <div>
                  <span style="background-color: {{ person.color }};" class="badge p-1 py-0 rounded-pill">&nbsp;</span>
                  {{ person.name }}
                </div>
              </td>
              <td>{{ person.age }}</td>
              <td>{{ person.married }}</td>
              <td>{{ person.email }}</td>
              <td>{{ person.height }}</td>
              <td>{{ person.birthday | dateFormat('dd/MM/yyyy, HH:mm') }}</td>
              <td>{{ person.job.title | default('Unknown') }}</td>
              <td>{{ person.jobs|length }}</td>
              <td>
                <div class="d-flex justify-content-end">
                  <form class="d-flex" onsubmit="return confirm('Are you sure to delete `{{ person.name }}`?')" action="/example/person/delete/{{ person._id }}" method="POST">
                    <input type="hidden" name="action" value="DELETE" />
                    <button class="btn btn-sm btn-outline-light rounded-pill p-1 m-0 border-0" type="submit">üóëÔ∏è</button>
                  </form>
                  <a class="btn btn-sm btn-outline-light rounded-pill p-1 m-0 border-0" href="/example/person/{{ person._id }}">
                    ‚úèÔ∏è
                  </a>
                </div>
              </td>
            </tr>
            {% endfor %}
          </tbody>
          <tfoot>
            <form method="post">
              <tr>
                <td class="border-0" colspan="100%">
                  <div class="container">
                    {{ paging }}
                  </div>
                </td>
              </tr>
            </form>
          </tfoot>
        </table>
      </div>
    </div>
    {% endif %}
    <div class="card bg-white mt-3 px-0 mx-0">
      {% include $e.widgetPath('example/forms/form_person') %}
    </div>
  </div>
</div>
{% endblock %}