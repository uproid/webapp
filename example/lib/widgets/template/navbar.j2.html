<nav
  class="sticky top-0 z-50 bg-primary-900 backdrop-blur border-b bg-primary-900"
>
  <div class="mx-auto w-full">
    <div class="flex w-full items-center justify-between gap-4 py-2 px-[12px]">
      <div class="flex items-center gap-3">
        <button
          class="wave button-sidebar hover:text-primary-100 inline-flex h-10 w-10 items-center justify-center rounded-md text-primary-200 hover:bg-primary-800 focus:outline-none focus:ring-2 focus:ring-primary-400"
          type="button"
          aria-label="{{ $t('navbar.toggleSidebar') }}"
          aria-controls="sidebar"
          aria-expanded="true"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="24"
            height="24"
            fill="currentColor"
            viewBox="0 0 16 16"
            class="shrink-0"
          >
            <path
              fill-rule="evenodd"
              d="M2.5 12a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5m0-4a.5.5 0 0 1 .5-.5h10a.5.5 0 0 1 0 1H3a.5.5 0 0 1-.5-.5"
            />
          </svg>
        </button>
        <a
          class="wave inline-flex items-center gap-2 rounded-md px-2 py-1.5 text-primary-200"
          href="{{ $e.url('/') }}"
        >
          <span
            class="text-lg font-semibold text-primary-200 hover:text-primary-100"
            >{{ $t('logo.title') }}</span
          >
          <span class="text-xs text-primary-300 hover:text-primary-100"
            >{{ version }}</span
          >
        </a>
      </div>

      <div class="flex items-center gap-2">
        <a
          href="https://github.com/uproid/webapp"
          class="wave inline-flex h-10 items-center rounded-md px-3 text-primary-200 hover:bg-primary-800 hover:text-primary-100"
          aria-label="GitHub"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            width="22"
            height="22"
            viewBox="0 0 512 499.36"
            role="img"
            class="shrink-0"
          >
            <title>GitHub</title>
            <path
              fill="currentColor"
              fill-rule="evenodd"
              d="M256 0C114.64 0 0 114.61 0 256c0 113.09 73.34 209 175.08 242.9 12.8 2.35 17.47-5.56 17.47-12.34 0-6.08-.22-22.18-.35-43.54-71.2 15.49-86.2-34.34-86.2-34.34-11.64-29.57-28.42-37.45-28.42-37.45-23.27-15.84 1.73-15.55 1.73-15.55 25.69 1.81 39.21 26.38 39.21 26.38 22.84 39.12 59.92 27.82 74.5 21.27 2.33-16.54 8.94-27.82 16.25-34.22-56.84-6.43-116.6-28.43-116.6-126.49 0-27.95 10-50.8 26.35-68.69-2.63-6.48-11.42-32.5 2.51-67.75 0 0 21.49-6.88 70.4 26.24a242.65 242.65 0 0 1 128.18 0c48.87-33.13 70.33-26.24 70.33-26.24 14 35.25 5.18 61.27 2.55 67.75 16.41 17.9 26.31 40.75 26.31 68.69 0 98.35-59.85 120-116.88 126.32 9.19 7.9 17.38 23.53 17.38 47.41 0 34.22-.31 61.83-.31 70.23 0 6.85 4.61 14.81 17.6 12.31C438.72 464.97 512 369.08 512 256.02 512 114.62 397.37 0 256 0z"
            ></path>
          </svg>
        </a>

        {% if user %}
        <details class="relative">
          <summary
            class="list-none inline-flex h-10 gap-2 px-3 cursor-pointer items-center rounded-md text-primary-200 hover:bg-primary-800 hover:text-primary-100"
          >
            <i class="fas fa-user shrink-0"></i>
            <span>{{ user.name }}</span>
          </summary>
          <ul
            class="absolute right-0 mt-2 w-48 overflow-y-auto rounded-md border border-outline/30 bg-surface py-1 text-on-surface shadow-lg ring-1 ring-black/5"
          >
            <li>
              <a
                class="wave flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-red-50 text-red-600"
                href="{{ $e.url('/logout') }}"
              >
                <i class="fas fa-sign-out-alt shrink-0"></i>
                <span>{{ $t('auth.logout') }}</span>
              </a>
            </li>
          </ul>
        </details>
        {% endif %}

        <details
          class="relative"
          dir="{{ 'ltr' if $t('dir') == 'rtl' else 'rtl' }}"
        >
          <summary
            class="list-none inline-flex h-10 cursor-pointer items-center rounded-md px-3 text-primary-200 hover:bg-primary-800 hover:text-primary-100"
          >
            {{ $e.ln | upper }}
          </summary>
          <ul
            class="absolute <?= ?> mt-2 w-48 overflow-y-auto rounded-md border border-outline/30 bg-surface py-1 text-on-surface shadow-lg ring-1 ring-black/5 max-h-72"
          >
            {% for key, language in languages %}
            <li>
              <a
                class="wave flex items-center gap-2 px-3 py-2 text-sm rounded-md hover:bg-primary-50 {{ 'bg-primary-50 font-medium text-primary-700' if $e.ln == key }}"
                href="{{ $e.urlToLanguage(key) }}"
              >
                <b class="inline-flex w-5 items-center justify-center"
                  >{{ language.flag }}</b
                >
                <span>{{ language.name }}</span>
              </a>
            </li>
            {% endfor %}
          </ul>
        </details>
      </div>
    </div>
  </div>
</nav>
